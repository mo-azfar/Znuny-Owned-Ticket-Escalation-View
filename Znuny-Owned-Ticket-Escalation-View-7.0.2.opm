<?xml version="1.0" encoding="utf-8" ?>
<otrs_package version="1.1">
    <Name>Znuny-Owned-Ticket-Escalation-View</Name>
    <Version>7.0.2</Version>
    <Vendor>mo-azfar</Vendor>
    <URL>https://github.com/mo-azfar</URL>
    <License>GNU GENERAL PUBLIC LICENSE Version 3, 29 June 2007</License>
    <ChangeLog Version="7.0.1">New package.</ChangeLog>
    <ChangeLog Date="2024-03-27 10:30:00 +0800" Version="7.0.2">Code tidied and compared to based files 7.0.15.</ChangeLog>
    <Description Lang="en">Show additional filter for owned ticket in ticket escalation view</Description>
    <Framework>7.0.x</Framework>
    <IntroInstall Lang="en" Title="Install Information" Type="pre">
        &lt;br/&gt;
        &lt;b&gt;WELCOME&lt;/b&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        You are about to install the package Znuny-Owned-Ticket-Escalation-View.Check &lt;a href='https://github.com/mo-azfar/Znuny-Owned-Ticket-Escalation-View' target='_blank'/&gt;README&lt;/a&gt;&lt;br/&gt;
        &lt;br/&gt;
        &lt;br/&gt;
        AgentTicketEscalationView.pm is based on Znuny 7.0.14. You may later need to update / patch it based on latest release of znuny.&lt;br/&gt;
        I will try to update it to match the latest release if there is a changes in the said files.&lt;br/&gt;
        ((enjoy))&lt;br/&gt;
        &lt;br/&gt;
    </IntroInstall>
    <IntroUpgrade Lang="en" Title="Upgrade Information" Type="pre">
        &lt;br/&gt;
        Changelog&lt;br/&gt;
        7.0.1 - New package.&lt;br/&gt;
        7.0.2 - Code tidied and compared to based files 7.0.15.&lt;br/&gt;
        &lt;br/&gt;&lt;br/&gt;
        ((enjoy))&lt;br/&gt;
        &lt;br/&gt;
    </IntroUpgrade>
    <BuildDate>2024-03-27 10:38:18</BuildDate>
    <BuildHost>app.wsl.my</BuildHost>
    <Filelist>
        <File Location="Custom/Kernel/Modules/AgentTicketEscalationView.pm" Permission="644" Encode="Base64">IyAtLQojIENvcHlyaWdodCAoQykgMjAwMS0yMDIxIE9UUlMgQUcsIGh0dHBzOi8vb3Rycy5jb20vCiMgQ29weXJpZ2h0IChDKSAyMDIxIFpudW55IEdtYkgsIGh0dHBzOi8vem51bnkub3JnLwojIENvcHlyaWdodCAoQykgMjAyMyBtby1hemZhciwgaHR0cHM6Ly9naXRodWIuY29tL21vLWF6ZmFyCiMgLS0KIyBUaGlzIHNvZnR3YXJlIGNvbWVzIHdpdGggQUJTT0xVVEVMWSBOTyBXQVJSQU5UWS4gRm9yIGRldGFpbHMsIHNlZQojIHRoZSBlbmNsb3NlZCBmaWxlIENPUFlJTkcgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24gKEdQTCkuIElmIHlvdQojIGRpZCBub3QgcmVjZWl2ZSB0aGlzIGZpbGUsIHNlZSBodHRwczovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2dwbC0zLjAudHh0LgojIC0tCgpwYWNrYWdlIEtlcm5lbDo6TW9kdWxlczo6QWdlbnRUaWNrZXRFc2NhbGF0aW9uVmlldzsKCnVzZSBzdHJpY3Q7CnVzZSB3YXJuaW5nczsKCnVzZSBLZXJuZWw6OlN5c3RlbTo6VmFyaWFibGVDaGVjayBxdyg6YWxsKTsKdXNlIEtlcm5lbDo6TGFuZ3VhZ2UgcXcoVHJhbnNsYXRhYmxlKTsKCm91ciAkT2JqZWN0TWFuYWdlckRpc2FibGVkID0gMTsKCnN1YiBuZXcgewogICAgbXkgKCAkVHlwZSwgJVBhcmFtICkgPSBAXzsKCiAgICAjIGFsbG9jYXRlIG5ldyBoYXNoIGZvciBvYmplY3QKICAgIG15ICRTZWxmID0geyVQYXJhbX07CiAgICBibGVzcyggJFNlbGYsICRUeXBlICk7CgogICAgcmV0dXJuICRTZWxmOwp9CgpzdWIgUnVuIHsKICAgIG15ICggJFNlbGYsICVQYXJhbSApID0gQF87CgogICAgIyBnZXQgc2Vzc2lvbiBvYmplY3QKICAgIG15ICRTZXNzaW9uT2JqZWN0ID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06OkF1dGhTZXNzaW9uJyk7CgogICAgIyBzdG9yZSBsYXN0IHF1ZXVlIHNjcmVlbgogICAgJFNlc3Npb25PYmplY3QtPlVwZGF0ZVNlc3Npb25JRCgKICAgICAgICBTZXNzaW9uSUQgPT4gJFNlbGYtPntTZXNzaW9uSUR9LAogICAgICAgIEtleSAgICAgICA9PiAnTGFzdFNjcmVlbk92ZXJ2aWV3JywKICAgICAgICBWYWx1ZSAgICAgPT4gJFNlbGYtPntSZXF1ZXN0ZWRVUkx9LAogICAgKTsKCiAgICAjIHN0b3JlIGxhc3Qgc2NyZWVuCiAgICAkU2Vzc2lvbk9iamVjdC0+VXBkYXRlU2Vzc2lvbklEKAogICAgICAgIFNlc3Npb25JRCA9PiAkU2VsZi0+e1Nlc3Npb25JRH0sCiAgICAgICAgS2V5ICAgICAgID0+ICdMYXN0U2NyZWVuVmlldycsCiAgICAgICAgVmFsdWUgICAgID0+ICRTZWxmLT57UmVxdWVzdGVkVVJMfSwKICAgICk7CgogICAgIyBnZXQgdXNlciBvYmplY3QKICAgIG15ICRVc2VyT2JqZWN0ID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06OlVzZXInKTsKCiAgICAjIGdldCBmaWx0ZXJzIHN0b3JlZCBpbiB0aGUgdXNlciBwcmVmZXJlbmNlcwogICAgbXkgJVByZWZlcmVuY2VzID0gJFVzZXJPYmplY3QtPkdldFByZWZlcmVuY2VzKAogICAgICAgIFVzZXJJRCA9PiAkU2VsZi0+e1VzZXJJRH0sCiAgICApOwogICAgbXkgJFN0b3JlZEZpbHRlcnNLZXkgPSAnVXNlclN0b3JlZEZpbHRlckNvbHVtbnMtJyAuICRTZWxmLT57QWN0aW9ufTsKICAgIG15ICRKU09OT2JqZWN0ICAgICAgID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06OkpTT04nKTsKICAgIG15ICRTdG9yZWRGaWx0ZXJzICAgID0gJEpTT05PYmplY3QtPkRlY29kZSgKICAgICAgICBEYXRhID0+ICRQcmVmZXJlbmNlc3skU3RvcmVkRmlsdGVyc0tleX0sCiAgICApOwoKICAgICMgZ2V0IHBhcmFtIG9iamVjdAogICAgbXkgJFBhcmFtT2JqZWN0ID0gJEtlcm5lbDo6T00tPkdldCgnS2VybmVsOjpTeXN0ZW06OldlYjo6UmVxdWVzdCcpOwoKICAgICMgZGVsZXRlIHN0b3JlZCBmaWx0ZXJzIGlmIG5lZWRlZAogICAgaWYgKCAkUGFyYW1PYmplY3QtPkdldFBhcmFtKCBQYXJhbSA9PiAnRGVsZXRlRmlsdGVycycgKSApIHsKICAgICAgICAkU3RvcmVkRmlsdGVycyA9IHt9OwogICAgfQoKICAgICMgZ2V0IHRoZSBjb2x1bW4gZmlsdGVycyBmcm9tIHRoZSB3ZWIgcmVxdWVzdCBvciB1c2VyIHByZWZlcmVuY2VzCiAgICBteSAlQ29sdW1uRmlsdGVyOwogICAgbXkgJUdldENvbHVtbkZpbHRlcjsKICAgIENPTFVNTk5BTUU6CiAgICBmb3IgbXkgJENvbHVtbk5hbWUgKAogICAgICAgIHF3KE93bmVyIFJlc3BvbnNpYmxlIFN0YXRlIFF1ZXVlIFByaW9yaXR5IFR5cGUgTG9jayBTZXJ2aWNlIFNMQSBDdXN0b21lcklEIEN1c3RvbWVyVXNlcklEKQogICAgICAgICkKICAgIHsKICAgICAgICAjIGdldCBjb2x1bW4gZmlsdGVyIGZyb20gd2ViIHJlcXVlc3QKICAgICAgICBteSAkRmlsdGVyVmFsdWUgPSAkUGFyYW1PYmplY3QtPkdldFBhcmFtKCBQYXJhbSA9PiAnQ29sdW1uRmlsdGVyJyAuICRDb2x1bW5OYW1lICkKICAgICAgICAgICAgfHwgJyc7CgogICAgICAgICMgaWYgZmlsdGVyIGlzIG5vdCBwcmVzZW50IGluIHRoZSB3ZWIgcmVxdWVzdCwgdHJ5IHdpdGggdGhlIHVzZXIgcHJlZmVyZW5jZXMKICAgICAgICBpZiAoICRGaWx0ZXJWYWx1ZSBlcSAnJyApIHsKICAgICAgICAgICAgaWYgKCAkQ29sdW1uTmFtZSBlcSAnQ3VzdG9tZXJJRCcgKSB7CiAgICAgICAgICAgICAgICAkRmlsdGVyVmFsdWUgPSAkU3RvcmVkRmlsdGVycy0+eyRDb2x1bW5OYW1lfS0+WzBdIHx8ICcnOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2lmICggJENvbHVtbk5hbWUgZXEgJ0N1c3RvbWVyVXNlcklEJyApIHsKICAgICAgICAgICAgICAgICRGaWx0ZXJWYWx1ZSA9ICRTdG9yZWRGaWx0ZXJzLT57Q3VzdG9tZXJVc2VyTG9naW59LT5bMF0gfHwgJyc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAkRmlsdGVyVmFsdWUgPSAkU3RvcmVkRmlsdGVycy0+eyAkQ29sdW1uTmFtZSAuICdJRHMnIH0tPlswXSB8fCAnJzsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBuZXh0IENPTFVNTk5BTUUgaWYgJEZpbHRlclZhbHVlIGVxICcnOwogICAgICAgIG5leHQgQ09MVU1OTkFNRSBpZiAkRmlsdGVyVmFsdWUgZXEgJ0RlbGV0ZUZpbHRlcic7CgogICAgICAgIGlmICggJENvbHVtbk5hbWUgZXEgJ0N1c3RvbWVySUQnICkgewogICAgICAgICAgICBwdXNoIEB7ICRDb2x1bW5GaWx0ZXJ7JENvbHVtbk5hbWV9IH0sICRGaWx0ZXJWYWx1ZTsKICAgICAgICAgICAgcHVzaCBAeyAkQ29sdW1uRmlsdGVyeyAkQ29sdW1uTmFtZSAuICdSYXcnIH0gfSwgJEZpbHRlclZhbHVlOwogICAgICAgICAgICAkR2V0Q29sdW1uRmlsdGVyeyRDb2x1bW5OYW1lfSA9ICRGaWx0ZXJWYWx1ZTsKICAgICAgICB9CiAgICAgICAgZWxzaWYgKCAkQ29sdW1uTmFtZSBlcSAnQ3VzdG9tZXJVc2VySUQnICkgewogICAgICAgICAgICBwdXNoIEB7ICRDb2x1bW5GaWx0ZXJ7Q3VzdG9tZXJVc2VyTG9naW59IH0sICAgICRGaWx0ZXJWYWx1ZTsKICAgICAgICAgICAgcHVzaCBAeyAkQ29sdW1uRmlsdGVye0N1c3RvbWVyVXNlckxvZ2luUmF3fSB9LCAkRmlsdGVyVmFsdWU7CiAgICAgICAgICAgICRHZXRDb2x1bW5GaWx0ZXJ7JENvbHVtbk5hbWV9ID0gJEZpbHRlclZhbHVlOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcHVzaCBAeyAkQ29sdW1uRmlsdGVyeyAkQ29sdW1uTmFtZSAuICdJRHMnIH0gfSwgJEZpbHRlclZhbHVlOwogICAgICAgICAgICAkR2V0Q29sdW1uRmlsdGVyeyRDb2x1bW5OYW1lfSA9ICRGaWx0ZXJWYWx1ZTsKICAgICAgICB9CiAgICB9CgogICAgIyBnZXQgYWxsIGR5bmFtaWMgZmllbGRzCiAgICAkU2VsZi0+e0R5bmFtaWNGaWVsZH0gPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6RHluYW1pY0ZpZWxkJyktPkR5bmFtaWNGaWVsZExpc3RHZXQoCiAgICAgICAgVmFsaWQgICAgICA9PiAxLAogICAgICAgIE9iamVjdFR5cGUgPT4gWydUaWNrZXQnXSwKICAgICk7CgogICAgRFlOQU1JQ0ZJRUxEOgogICAgZm9yIG15ICREeW5hbWljRmllbGRDb25maWcgKCBAeyAkU2VsZi0+e0R5bmFtaWNGaWVsZH0gfSApIHsKICAgICAgICBuZXh0IERZTkFNSUNGSUVMRCBpZiAhSXNIYXNoUmVmV2l0aERhdGEoJER5bmFtaWNGaWVsZENvbmZpZyk7CiAgICAgICAgbmV4dCBEWU5BTUlDRklFTEQgaWYgISREeW5hbWljRmllbGRDb25maWctPntOYW1lfTsKCiAgICAgICAgIyBnZXQgZmlsdGVyIGZyb20gd2ViIHJlcXVlc3QKICAgICAgICBteSAkRmlsdGVyVmFsdWUgPSAkUGFyYW1PYmplY3QtPkdldFBhcmFtKAogICAgICAgICAgICBQYXJhbSA9PiAnQ29sdW1uRmlsdGVyRHluYW1pY0ZpZWxkXycgLiAkRHluYW1pY0ZpZWxkQ29uZmlnLT57TmFtZX0KICAgICAgICApOwoKICAgICAgICAjIGlmIG5vIGZpbHRlciBmcm9tIHdlYiByZXF1ZXN0LCB0cnkgZnJvbSB1c2VyIHByZWZlcmVuY2VzCiAgICAgICAgaWYgKCAhZGVmaW5lZCAkRmlsdGVyVmFsdWUgfHwgJEZpbHRlclZhbHVlIGVxICcnICkgewogICAgICAgICAgICAkRmlsdGVyVmFsdWUgPSAkU3RvcmVkRmlsdGVycy0+eyAnRHluYW1pY0ZpZWxkXycgLiAkRHluYW1pY0ZpZWxkQ29uZmlnLT57TmFtZX0gfS0+e0VxdWFsc307CiAgICAgICAgfQoKICAgICAgICBuZXh0IERZTkFNSUNGSUVMRCBpZiAhZGVmaW5lZCAkRmlsdGVyVmFsdWU7CiAgICAgICAgbmV4dCBEWU5BTUlDRklFTEQgaWYgJEZpbHRlclZhbHVlIGVxICcnOwogICAgICAgIG5leHQgRFlOQU1JQ0ZJRUxEIGlmICRGaWx0ZXJWYWx1ZSBlcSAnRGVsZXRlRmlsdGVyJzsKCiAgICAgICAgJENvbHVtbkZpbHRlcnsgJ0R5bmFtaWNGaWVsZF8nIC4gJER5bmFtaWNGaWVsZENvbmZpZy0+e05hbWV9IH0gPSB7CiAgICAgICAgICAgIEVxdWFscyA9PiAkRmlsdGVyVmFsdWUsCiAgICAgICAgfTsKICAgICAgICAkR2V0Q29sdW1uRmlsdGVyeyAnRHluYW1pY0ZpZWxkXycgLiAkRHluYW1pY0ZpZWxkQ29uZmlnLT57TmFtZX0gfSA9ICRGaWx0ZXJWYWx1ZTsKICAgIH0KCiAgICAjIHN0YXJ0aW5nIHdpdGggcGFnZSAuLi4KICAgIG15ICRSZWZyZXNoID0gJyc7CiAgICBpZiAoICRTZWxmLT57VXNlclJlZnJlc2hUaW1lfSApIHsKICAgICAgICAkUmVmcmVzaCA9IDYwICogJFNlbGYtPntVc2VyUmVmcmVzaFRpbWV9OwogICAgfQoKICAgICMgZ2V0IGxheW91dCBvYmplY3QKICAgIG15ICRMYXlvdXRPYmplY3QgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6Ok91dHB1dDo6SFRNTDo6TGF5b3V0Jyk7CgogICAgbXkgJE91dHB1dDsKICAgIGlmICggJFNlbGYtPntTdWJhY3Rpb259IG5lICdBSkFYRmlsdGVyVXBkYXRlJyApIHsKICAgICAgICAkT3V0cHV0ID0gJExheW91dE9iamVjdC0+SGVhZGVyKAogICAgICAgICAgICBSZWZyZXNoID0+ICRSZWZyZXNoLAogICAgICAgICk7CiAgICAgICAgJE91dHB1dCAuPSAkTGF5b3V0T2JqZWN0LT5OYXZpZ2F0aW9uQmFyKCk7CiAgICB9CgogICAgIyBOb3RpZnkgaWYgdGhlcmUgYXJlIHRpY2tldHMgd2hpY2ggYXJlIG5vdCB1cGRhdGVkLgogICAgJE91dHB1dCAuPSAkTGF5b3V0T2JqZWN0LT5Ob3RpZnlOb25VcGRhdGVkVGlja2V0cygpIC8vICcnOwoKICAgIG15ICRDcmVhdGVFbmRPZkRheURhdGVUaW1lT2JqZWN0ID0gc3ViIHsKICAgICAgICBteSAlUGFyYW0gPSBAXzsKCiAgICAgICAgbXkgJERhdGVUaW1lT2JqZWN0ID0gJEtlcm5lbDo6T00tPkNyZWF0ZSgnS2VybmVsOjpTeXN0ZW06OkRhdGVUaW1lJyk7CiAgICAgICAgaWYgKCAkUGFyYW17QWRkRGF5c30gKSB7CiAgICAgICAgICAgICREYXRlVGltZU9iamVjdC0+QWRkKCBEYXlzID0+ICRQYXJhbXtBZGREYXlzfSApOwogICAgICAgIH0KCiAgICAgICAgJERhdGVUaW1lT2JqZWN0LT5TZXQoCiAgICAgICAgICAgIEhvdXIgICA9PiAyMywKICAgICAgICAgICAgTWludXRlID0+IDU5LAogICAgICAgICAgICBTZWNvbmQgPT4gNTkKICAgICAgICApOwogICAgICAgIHJldHVybiAkRGF0ZVRpbWVPYmplY3Q7CiAgICB9OwoKICAgIG15ICROZXh0V2Vla0RhdGVUaW1lT2JqZWN0ID0gJENyZWF0ZUVuZE9mRGF5RGF0ZVRpbWVPYmplY3QtPiggQWRkRGF5cyA9PiA3ICk7CiAgICBteSAkVG9tb3Jyb3dEYXRlVGltZU9iamVjdCA9ICRDcmVhdGVFbmRPZkRheURhdGVUaW1lT2JqZWN0LT4oIEFkZERheXMgPT4gMSApOwogICAgbXkgJFRvZGF5RGF0ZVRpbWVPYmplY3QgICAgPSAkQ3JlYXRlRW5kT2ZEYXlEYXRlVGltZU9iamVjdC0+KCk7CgogICAgIyBnZXQgY29uZmlnIG9iamVjdAogICAgbXkgJENvbmZpZ09iamVjdCA9ICRLZXJuZWw6Ok9NLT5HZXQoJ0tlcm5lbDo6Q29uZmlnJyk7CiAgICBteSAkQ29uZmlnICAgICAgID0gJENvbmZpZ09iamVjdC0+R2V0KCJUaWNrZXQ6OkZyb250ZW5kOjokU2VsZi0+e0FjdGlvbn0iKTsKCiAgICAjIGdldCBwYXJhbXMKICAgIG15ICRTb3J0QnkgPSAkUGFyYW1PYmplY3QtPkdldFBhcmFtKCBQYXJhbSA9PiAnU29ydEJ5JyApCiAgICAgICAgfHwgJENvbmZpZy0+eydTb3J0Qnk6OkRlZmF1bHQnfQogICAgICAgIHx8ICdFc2NhbGF0aW9uVGltZSc7CiAgICBteSAkT3JkZXJCeSA9ICRQYXJhbU9iamVjdC0+R2V0UGFyYW0oIFBhcmFtID0+ICdPcmRlckJ5JyApCiAgICAgICAgfHwgJENvbmZpZy0+eydPcmRlcjo6RGVmYXVsdCd9CiAgICAgICAgfHwgJ1VwJzsKCiAgICBteSAlRmlsdGVycyA9ICgKICAgICAgICBUb2RheSA9PiB7CiAgICAgICAgICAgIE5hbWUgICA9PiBUcmFuc2xhdGFibGUoJ1RvZGF5JyksCiAgICAgICAgICAgIFByaW8gICA9PiAxMDAwLAogICAgICAgICAgICBTZWFyY2ggPT4gewogICAgICAgICAgICAgICAgVGlja2V0RXNjYWxhdGlvblRpbWVPbGRlckRhdGUgPT4gJFRvZGF5RGF0ZVRpbWVPYmplY3QtPlRvU3RyaW5nKCksCiAgICAgICAgICAgICAgICBPcmRlckJ5ICAgICAgICAgICAgICAgICAgICAgICA9PiAkT3JkZXJCeSwKICAgICAgICAgICAgICAgIFNvcnRCeSAgICAgICAgICAgICAgICAgICAgICAgID0+ICRTb3J0QnksCiAgICAgICAgICAgICAgICBVc2VySUQgICAgICAgICAgICAgICAgICAgICAgICA9PiAkU2VsZi0+e1VzZXJJRH0sCiAgICAgICAgICAgICAgICBQZXJtaXNzaW9uICAgICAgICAgICAgICAgICAgICA9PiAkQ29uZmlnLT57J1RpY2tldFBlcm1pc3Npb24nfSwKICAgICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIFRvbW9ycm93ID0+IHsKICAgICAgICAgICAgTmFtZSAgID0+IFRyYW5zbGF0YWJsZSgnVG9tb3Jyb3cnKSwKICAgICAgICAgICAgUHJpbyAgID0+IDIwMDAsCiAgICAgICAgICAgIFNlYXJjaCA9PiB7CiAgICAgICAgICAgICAgICBUaWNrZXRFc2NhbGF0aW9uVGltZU9sZGVyRGF0ZSA9PiAkVG9tb3Jyb3dEYXRlVGltZU9iamVjdC0+VG9TdHJpbmcoKSwKICAgICAgICAgICAgICAgIE9yZGVyQnkgICAgICAgICAgICAgICAgICAgICAgID0+ICRPcmRlckJ5LAogICAgICAgICAgICAgICAgU29ydEJ5ICAgICAgICAgICAgICAgICAgICAgICAgPT4gJFNvcnRCeSwKICAgICAgICAgICAgICAgIFVzZXJJRCAgICAgICAgICAgICAgICAgICAgICAgID0+ICRTZWxmLT57VXNlcklEfSwKICAgICAgICAgICAgICAgIFBlcm1pc3Npb24gICAgICAgICAgICAgICAgICAgID0+ICRDb25maWctPnsnVGlja2V0UGVybWlzc2lvbid9LAogICAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgTmV4dFdlZWsgPT4gewogICAgICAgICAgICBOYW1lICAgPT4gVHJhbnNsYXRhYmxlKCdOZXh0IHdlZWsnKSwKICAgICAgICAgICAgUHJpbyAgID0+IDMwMDAsCiAgICAgICAgICAgIFNlYXJjaCA9PiB7CiAgICAgICAgICAgICAgICBUaWNrZXRFc2NhbGF0aW9uVGltZU9sZGVyRGF0ZSA9PiAkTmV4dFdlZWtEYXRlVGltZU9iamVjdC0+VG9TdHJpbmcoKSwKICAgICAgICAgICAgICAgIE9yZGVyQnkgICAgICAgICAgICAgICAgICAgICAgID0+ICRPcmRlckJ5LAogICAgICAgICAgICAgICAgU29ydEJ5ICAgICAgICAgICAgICAgICAgICAgICAgPT4gJFNvcnRCeSwKICAgICAgICAgICAgICAgIFVzZXJJRCAgICAgICAgICAgICAgICAgICAgICAgID0+ICRTZWxmLT57VXNlcklEfSwKICAgICAgICAgICAgICAgIFBlcm1pc3Npb24gICAgICAgICAgICAgICAgICAgID0+ICRDb25maWctPnsnVGlja2V0UGVybWlzc2lvbid9LAogICAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgIyAtLS0KICAgICAgICAjIGFkZCBmaWx0ZXIgZm9yIG93bmVkIHRpY2tldAogICAgICAgICMgLS0tCiAgICAgICAgVG9kYXlNaW5lID0+IHsKICAgICAgICAgICAgTmFtZSAgID0+IFRyYW5zbGF0YWJsZSgnVG9kYXkgKE1pbmUpJyksCiAgICAgICAgICAgIFByaW8gICA9PiAzMDAxLAogICAgICAgICAgICBTZWFyY2ggPT4gewogICAgICAgICAgICAgICAgVGlja2V0RXNjYWxhdGlvblRpbWVPbGRlckRhdGUgPT4gJFRvZGF5RGF0ZVRpbWVPYmplY3QtPlRvU3RyaW5nKCksCiAgICAgICAgICAgICAgICBPcmRlckJ5ICAgICAgICAgICAgICAgICAgICAgICA9PiAkT3JkZXJCeSwKICAgICAgICAgICAgICAgIFNvcnRCeSAgICAgICAgICAgICAgICAgICAgICAgID0+ICRTb3J0QnksCiAgICAgICAgICAgICAgICBPd25lcklEcyAgICAgICAgICAgICAgICAgICAgICA9PiBbJFNlbGYtPntVc2VySUR9XSwKICAgICAgICAgICAgICAgIFVzZXJJRCAgICAgICAgICAgICAgICAgICAgICAgID0+IDEsCiAgICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICBUb21vcnJvd01pbmUgPT4gewogICAgICAgICAgICBOYW1lICAgPT4gVHJhbnNsYXRhYmxlKCdUb21vcnJvdyAoTWluZSknKSwKICAgICAgICAgICAgUHJpbyAgID0+IDMwMDIsCiAgICAgICAgICAgIFNlYXJjaCA9PiB7CiAgICAgICAgICAgICAgICBUaWNrZXRFc2NhbGF0aW9uVGltZU9sZGVyRGF0ZSA9PiAkVG9tb3Jyb3dEYXRlVGltZU9iamVjdC0+VG9TdHJpbmcoKSwKICAgICAgICAgICAgICAgIE9yZGVyQnkgICAgICAgICAgICAgICAgICAgICAgID0+ICRPcmRlckJ5LAogICAgICAgICAgICAgICAgU29ydEJ5ICAgICAgICAgICAgICAgICAgICAgICAgPT4gJFNvcnRCeSwKICAgICAgICAgICAgICAgIE93bmVySURzICAgICAgICAgICAgICAgICAgICAgID0+IFskU2VsZi0+e1VzZXJJRH1dLAogICAgICAgICAgICAgICAgVXNlcklEICAgICAgICAgICAgICAgICAgICAgICAgPT4gMSwKICAgICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIE5leHRXZWVrTWluZSA9PiB7CiAgICAgICAgICAgIE5hbWUgICA9PiBUcmFuc2xhdGFibGUoJ05leHQgV2VlayAoTWluZSknKSwKICAgICAgICAgICAgUHJpbyAgID0+IDMwMDMsCiAgICAgICAgICAgIFNlYXJjaCA9PiB7CiAgICAgICAgICAgICAgICBUaWNrZXRFc2NhbGF0aW9uVGltZU9sZGVyRGF0ZSA9PiAkTmV4dFdlZWtEYXRlVGltZU9iamVjdC0+VG9TdHJpbmcoKSwKICAgICAgICAgICAgICAgIE9yZGVyQnkgICAgICAgICAgICAgICAgICAgICAgID0+ICRPcmRlckJ5LAogICAgICAgICAgICAgICAgU29ydEJ5ICAgICAgICAgICAgICAgICAgICAgICAgPT4gJFNvcnRCeSwKICAgICAgICAgICAgICAgIE93bmVySURzICAgICAgICAgICAgICAgICAgICAgID0+IFskU2VsZi0+e1VzZXJJRH1dLAogICAgICAgICAgICAgICAgVXNlcklEICAgICAgICAgICAgICAgICAgICAgICAgPT4gMSwKICAgICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgICMgLS0tCiAgICApOwoKICAgIG15ICRGaWx0ZXIgPSAkUGFyYW1PYmplY3QtPkdldFBhcmFtKCBQYXJhbSA9PiAnRmlsdGVyJyApIHx8ICdUb2RheSc7CgogICAgIyBjaGVjayBpZiBmaWx0ZXIgaXMgdmFsaWQKICAgIGlmICggISRGaWx0ZXJzeyRGaWx0ZXJ9ICkgewogICAgICAgICRMYXlvdXRPYmplY3QtPkZhdGFsRXJyb3IoCiAgICAgICAgICAgIE1lc3NhZ2UgPT4gJExheW91dE9iamVjdC0+e0xhbmd1YWdlT2JqZWN0fS0+VHJhbnNsYXRlKCAnSW52YWxpZCBGaWx0ZXI6ICVzIScsICRGaWx0ZXIgKSwKICAgICAgICApOwogICAgfQoKICAgICMgZG8gc2hvd24gdGlja2V0cyBsb29rdXAKICAgIG15ICRMaW1pdCAgICAgICAgID0gJFBhcmFtT2JqZWN0LT5HZXRQYXJhbSggUGFyYW0gPT4gJ0xpbWl0JyApIHx8IDIwMDA7CiAgICBteSAkT3JpZ2luYWxMaW1pdCA9IDEwXzAwMDsKCiAgICBteSAkRWxlbWVudENoYW5nZWQgPSAkUGFyYW1PYmplY3QtPkdldFBhcmFtKCBQYXJhbSA9PiAnRWxlbWVudENoYW5nZWQnICkgfHwgJyc7CiAgICBteSAkSGVhZGVyQ29sdW1uICAgPSAkRWxlbWVudENoYW5nZWQ7CiAgICAkSGVhZGVyQ29sdW1uID1+IHN7XEEgQ29sdW1uRmlsdGVyIH17fW1zeGc7CiAgICBteSBAT3JpZ2luYWxWaWV3YWJsZVRpY2tldHM7CiAgICBteSBAVmlld2FibGVUaWNrZXRzOwogICAgbXkgJFZpZXdhYmxlVGlja2V0Q291bnQgPSAwOwoKICAgICMgZ2V0IHRpY2tldCBvYmplY3QKICAgIG15ICRUaWNrZXRPYmplY3QgPSAkS2VybmVsOjpPTS0+R2V0KCdLZXJuZWw6OlN5c3RlbTo6VGlja2V0Jyk7CgogICAgIyBnZXQgdGlja2V0IHZhbHVlcwogICAgaWYgKAogICAgICAgICFJc1N0cmluZ1dpdGhEYXRhKCRIZWFkZXJDb2x1bW4pCiAgICAgICAgfHwgKAogICAgICAgICAgICBJc1N0cmluZ1dpdGhEYXRhKCRIZWFkZXJDb2x1bW4pCiAgICAgICAgICAgICYmICgKICAgICAgICAgICAgICAgICRDb25maWdPYmplY3QtPkdldCgnT25seVZhbHVlc09uVGlja2V0JykgfHwKICAgICAgICAgICAgICAgICRIZWFkZXJDb2x1bW4gZXEgJ0N1c3RvbWVySUQnIHx8CiAgICAgICAgICAgICAgICAkSGVhZGVyQ29sdW1uIGVxICdDdXN0b21lclVzZXJJRCcKICAgICAgICAgICAgKQogICAgICAgICkKICAgICAgICApCiAgICB7CgogICAgICAgIEBPcmlnaW5hbFZpZXdhYmxlVGlja2V0cyA9ICRUaWNrZXRPYmplY3QtPlRpY2tldFNlYXJjaCgKICAgICAgICAgICAgJXsgJEZpbHRlcnN7JEZpbHRlcn0tPntTZWFyY2h9IH0sCiAgICAgICAgICAgIExpbWl0ICA9PiAkT3JpZ2luYWxMaW1pdCwKICAgICAgICAgICAgUmVzdWx0ID0+ICdBUlJBWScsCiAgICAgICAgKTsKCiAgICAgICAgQFZpZXdhYmxlVGlja2V0cyA9ICRUaWNrZXRPYmplY3QtPlRpY2tldFNlYXJjaCgKICAgICAgICAgICAgJXsgJEZpbHRlcnN7JEZpbHRlcn0tPntTZWFyY2h9IH0sCiAgICAgICAgICAgICVDb2x1bW5GaWx0ZXIsCiAgICAgICAgICAgIFJlc3VsdCA9PiAnQVJSQVknLAogICAgICAgICAgICBMaW1pdCAgPT4gJExpbWl0LAogICAgICAgICk7CiAgICB9CgogICAgbXkgJFZpZXcgPSAkUGFyYW1PYmplY3QtPkdldFBhcmFtKCBQYXJhbSA9PiAnVmlldycgKSB8fCAnJzsKCiAgICBpZiAoICRTZWxmLT57U3ViYWN0aW9ufSBlcSAnQUpBWEZpbHRlclVwZGF0ZScgKSB7CgogICAgICAgIG15ICRGaWx0ZXJDb250ZW50ID0gJExheW91dE9iamVjdC0+VGlja2V0TGlzdFNob3coCiAgICAgICAgICAgIEZpbHRlckNvbnRlbnRPbmx5ICAgPT4gMSwKICAgICAgICAgICAgSGVhZGVyQ29sdW1uICAgICAgICA9PiAkSGVhZGVyQ29sdW1uLAogICAgICAgICAgICBFbGVtZW50Q2hhbmdlZCAgICAgID0+ICRFbGVtZW50Q2hhbmdlZCwKICAgICAgICAgICAgT3JpZ2luYWxUaWNrZXRJRHMgICA9PiBcQE9yaWdpbmFsVmlld2FibGVUaWNrZXRzLAogICAgICAgICAgICBBY3Rpb24gICAgICAgICAgICAgID0+ICdBZ2VudFRpY2tldFN0YXR1c1ZpZXcnLAogICAgICAgICAgICBFbnYgICAgICAgICAgICAgICAgID0+ICRTZWxmLAogICAgICAgICAgICBWaWV3ICAgICAgICAgICAgICAgID0+ICRWaWV3LAogICAgICAgICAgICBFbmFibGVDb2x1bW5GaWx0ZXJzID0+IDEsCiAgICAgICAgKTsKCiAgICAgICAgaWYgKCAhJEZpbHRlckNvbnRlbnQgKSB7CiAgICAgICAgICAgICRMYXlvdXRPYmplY3QtPkZhdGFsRXJyb3IoCiAgICAgICAgICAgICAgICBNZXNzYWdlID0+ICRMYXlvdXRPYmplY3QtPntMYW5ndWFnZU9iamVjdH0KICAgICAgICAgICAgICAgICAgICAtPlRyYW5zbGF0ZSggJ0NhblwndCBnZXQgZmlsdGVyIGNvbnRlbnQgZGF0YSBvZiAlcyEnLCAkSGVhZGVyQ29sdW1uICksCiAgICAgICAgICAgICk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gJExheW91dE9iamVjdC0+QXR0YWNobWVudCgKICAgICAgICAgICAgQ29udGVudFR5cGUgPT4gJ2FwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9JyAuICRMYXlvdXRPYmplY3QtPntDaGFyc2V0fSwKICAgICAgICAgICAgQ29udGVudCAgICAgPT4gJEZpbHRlckNvbnRlbnQsCiAgICAgICAgICAgIFR5cGUgICAgICAgID0+ICdpbmxpbmUnLAogICAgICAgICAgICBOb0NhY2hlICAgICA9PiAxLAogICAgICAgICk7CiAgICB9CiAgICBlbHNlIHsKCiAgICAgICAgIyBzdG9yZSBjb2x1bW4gZmlsdGVycwogICAgICAgIG15ICRTdG9yZWRGaWx0ZXJzID0gXCVDb2x1bW5GaWx0ZXI7CgogICAgICAgIG15ICRTdG9yZWRGaWx0ZXJzS2V5ID0gJ1VzZXJTdG9yZWRGaWx0ZXJDb2x1bW5zLScgLiAkU2VsZi0+e0FjdGlvbn07CiAgICAgICAgJFVzZXJPYmplY3QtPlNldFByZWZlcmVuY2VzKAogICAgICAgICAgICBVc2VySUQgPT4gJFNlbGYtPntVc2VySUR9LAogICAgICAgICAgICBLZXkgICAgPT4gJFN0b3JlZEZpbHRlcnNLZXksCiAgICAgICAgICAgIFZhbHVlICA9PiAkSlNPTk9iamVjdC0+RW5jb2RlKCBEYXRhID0+ICRTdG9yZWRGaWx0ZXJzICksCiAgICAgICAgKTsKICAgIH0KCiAgICBteSAlTmF2QmFyRmlsdGVyOwogICAgZm9yIG15ICRGaWx0ZXJDb2x1bW4gKCBzb3J0IGtleXMgJUZpbHRlcnMgKSB7CiAgICAgICAgbXkgQFZpZXdhYmxlVGlja2V0cyA9ICRUaWNrZXRPYmplY3QtPlRpY2tldFNlYXJjaCgKICAgICAgICAgICAgJXsgJEZpbHRlcnN7JEZpbHRlckNvbHVtbn0tPntTZWFyY2h9IH0sCiAgICAgICAgICAgICVDb2x1bW5GaWx0ZXIsCiAgICAgICAgICAgIFJlc3VsdCA9PiAnQVJSQVknLAogICAgICAgICAgICBMaW1pdCAgPT4gJExpbWl0LAogICAgICAgICk7CiAgICAgICAgJE5hdkJhckZpbHRlcnsgJEZpbHRlcnN7JEZpbHRlckNvbHVtbn0tPntQcmlvfSB9ID0gewogICAgICAgICAgICBDb3VudCAgPT4gc2NhbGFyIEBWaWV3YWJsZVRpY2tldHMsCiAgICAgICAgICAgIEZpbHRlciA9PiAkRmlsdGVyQ29sdW1uLAogICAgICAgICAgICAleyAkRmlsdGVyc3skRmlsdGVyQ29sdW1ufSB9LAogICAgICAgIH07CiAgICB9CgogICAgbXkgJENvbHVtbkZpbHRlckxpbmsgPSAnJzsKICAgIENPTFVNTk5BTUU6CiAgICBmb3IgbXkgJENvbHVtbk5hbWUgKCBzb3J0IGtleXMgJUdldENvbHVtbkZpbHRlciApIHsKICAgICAgICBuZXh0IENPTFVNTk5BTUUgaWYgISRDb2x1bW5OYW1lOwogICAgICAgIG5leHQgQ09MVU1OTkFNRSBpZiAhJEdldENvbHVtbkZpbHRlcnskQ29sdW1uTmFtZX07CiAgICAgICAgJENvbHVtbkZpbHRlckxpbmsKICAgICAgICAgICAgLj0gJzsnIC4gJExheW91dE9iamVjdC0+QXNjaWkySHRtbCggVGV4dCA9PiAnQ29sdW1uRmlsdGVyJyAuICRDb2x1bW5OYW1lICkKICAgICAgICAgICAgLiAnPScgLiAkTGF5b3V0T2JqZWN0LT5MaW5rRW5jb2RlKCAkR2V0Q29sdW1uRmlsdGVyeyRDb2x1bW5OYW1lfSApOwogICAgfQoKICAgICMgc2hvdyB0aWNrZXQncwogICAgbXkgJExpbmtQYWdlID0gJ0ZpbHRlcj0nCiAgICAgICAgLiAkTGF5b3V0T2JqZWN0LT5Bc2NpaTJIdG1sKCBUZXh0ID0+ICRGaWx0ZXIgKQogICAgICAgIC4gJztWaWV3PScgLiAkTGF5b3V0T2JqZWN0LT5Bc2NpaTJIdG1sKCBUZXh0ID0+ICRWaWV3ICkKICAgICAgICAuICc7U29ydEJ5PScgLiAkTGF5b3V0T2JqZWN0LT5Bc2NpaTJIdG1sKCBUZXh0ID0+ICRTb3J0QnkgKQogICAgICAgIC4gJztPcmRlckJ5PScgLiAkTGF5b3V0T2JqZWN0LT5Bc2NpaTJIdG1sKCBUZXh0ID0+ICRPcmRlckJ5ICkKICAgICAgICAuICRDb2x1bW5GaWx0ZXJMaW5rCiAgICAgICAgLiAnOyc7CiAgICBteSAkTGlua1NvcnQgPSAnRmlsdGVyPScKICAgICAgICAuICRMYXlvdXRPYmplY3QtPkFzY2lpMkh0bWwoIFRleHQgPT4gJEZpbHRlciApCiAgICAgICAgLiAnO1ZpZXc9JyAuICRMYXlvdXRPYmplY3QtPkFzY2lpMkh0bWwoIFRleHQgPT4gJFZpZXcgKQogICAgICAgIC4gJENvbHVtbkZpbHRlckxpbmsKICAgICAgICAuICc7JzsKICAgIG15ICRMaW5rRmlsdGVyID0gJ1NvcnRCeT0nIC4gJExheW91dE9iamVjdC0+QXNjaWkySHRtbCggVGV4dCA9PiAkU29ydEJ5ICkKICAgICAgICAuICc7T3JkZXJCeT0nIC4gJExheW91dE9iamVjdC0+QXNjaWkySHRtbCggVGV4dCA9PiAkT3JkZXJCeSApCiAgICAgICAgLiAnO1ZpZXc9JyAuICRMYXlvdXRPYmplY3QtPkFzY2lpMkh0bWwoIFRleHQgPT4gJFZpZXcgKQogICAgICAgIC4gJzsnOwoKICAgIG15ICRMYXN0Q29sdW1uRmlsdGVyID0gJFBhcmFtT2JqZWN0LT5HZXRQYXJhbSggUGFyYW0gPT4gJ0xhc3RDb2x1bW5GaWx0ZXInICkgfHwgJyc7CgogICAgaWYgKCAhJExhc3RDb2x1bW5GaWx0ZXIgJiYgJENvbHVtbkZpbHRlckxpbmsgKSB7CgogICAgICAgICMgaXMgcGxhbm5lZCB0byBoYXZlIGEgbGluayB0byBnbyBiYWNrIGhlcmUKICAgICAgICAkTGFzdENvbHVtbkZpbHRlciA9IDE7CiAgICB9CgogICAgJE91dHB1dCAuPSAkTGF5b3V0T2JqZWN0LT5UaWNrZXRMaXN0U2hvdygKICAgICAgICBUaWNrZXRJRHMgICAgICAgICA9PiBcQFZpZXdhYmxlVGlja2V0cywKICAgICAgICBPcmlnaW5hbFRpY2tldElEcyA9PiBcQE9yaWdpbmFsVmlld2FibGVUaWNrZXRzLAogICAgICAgIEdldENvbHVtbkZpbHRlciAgID0+IFwlR2V0Q29sdW1uRmlsdGVyLAogICAgICAgIExhc3RDb2x1bW5GaWx0ZXIgID0+ICRMYXN0Q29sdW1uRmlsdGVyLAogICAgICAgIEFjdGlvbiAgICAgICAgICAgID0+ICdBZ2VudFRpY2tldEVzY2FsYXRpb25WaWV3JywKICAgICAgICBSZXF1ZXN0ZWRVUkwgICAgICA9PiAkU2VsZi0+e1JlcXVlc3RlZFVSTH0sCgogICAgICAgIFRvdGFsID0+IHNjYWxhciBAVmlld2FibGVUaWNrZXRzLAoKICAgICAgICBWaWV3ID0+ICRWaWV3LAoKICAgICAgICBGaWx0ZXIgICAgID0+ICRGaWx0ZXIsCiAgICAgICAgRmlsdGVycyAgICA9PiBcJU5hdkJhckZpbHRlciwKICAgICAgICBMaW5rRmlsdGVyID0+ICRMaW5rRmlsdGVyLAoKICAgICAgICBUaXRsZU5hbWUgID0+IFRyYW5zbGF0YWJsZSgnVGlja2V0IEVzY2FsYXRpb24gVmlldycpLAogICAgICAgIFRpdGxlVmFsdWUgPT4gJEZpbHRlcnN7JEZpbHRlcn0tPntOYW1lfSwKICAgICAgICBCdWxrICAgICAgID0+IDEsCgogICAgICAgIEVudiAgICAgID0+ICRTZWxmLAogICAgICAgIExpbmtQYWdlID0+ICRMaW5rUGFnZSwKICAgICAgICBMaW5rU29ydCA9PiAkTGlua1NvcnQsCgogICAgICAgIE9yZGVyQnkgICAgICAgICAgICAgPT4gJE9yZGVyQnksCiAgICAgICAgU29ydEJ5ICAgICAgICAgICAgICA9PiAkU29ydEJ5LAogICAgICAgIEVuYWJsZUNvbHVtbkZpbHRlcnMgPT4gMSwKICAgICAgICBDb2x1bW5GaWx0ZXJGb3JtICAgID0+IHsKICAgICAgICAgICAgRmlsdGVyID0+ICRGaWx0ZXIgfHwgJycsCiAgICAgICAgfSwKCiAgICAgICAgRXNjYWxhdGlvbiA9PiAxLAoKICAgICAgICAjIGRvIG5vdCBwcmludCB0aGUgcmVzdWx0IGVhcmxpZXIsIGJ1dCByZXR1cm4gY29tcGxldGUgY29udGVudAogICAgICAgIE91dHB1dCA9PiAxLAogICAgKTsKCiAgICAkT3V0cHV0IC49ICRMYXlvdXRPYmplY3QtPkZvb3RlcigpOwogICAgcmV0dXJuICRPdXRwdXQ7Cn0KCjE7Cg==</File>
    </Filelist>
</otrs_package>